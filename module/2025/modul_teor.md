# Теоретические вопросы модульного экзамена
## Дисциплина. Распределенные системы
### Бакалавриат, 3 курс, направление "Бизнес-информатика"

---

## Вопрос 1. Характеристики распределенных систем и архитектурные паттерны

**Комплексный теоретический вопрос:**

Проанализируйте взаимосвязь между основными характеристиками распределенных систем (прозрачность, масштабируемость, надежность, согласованность) и архитектурными стилями (клиент-сервер, многоуровневая архитектура, микросервисы, peer-to-peer).

**В ответе необходимо раскрыть:**

1. **Определение распределенной системы** согласно Таненбауму и ван Стену. Обоснуйте, почему определение подчеркивает независимость компонентов и единство с точки зрения пользователя.

2. **Восемь типов прозрачности** (transparency) в распределенных системах:
   - access transparency
   - location transparency
   - migration transparency
   - relocation transparency
   - replication transparency
   - concurrency transparency
   - failure transparency
   - persistence transparency
   
   Для каждого типа приведите практический пример из современных систем.

3. **Анализ архитектурных стилей:**
   - Опишите эволюцию от монолитной архитектуры к микросервисам
   - Сравните клиент-серверную и peer-to-peer архитектуры с точки зрения масштабируемости и отказоустойчивости
   - Объясните, как архитектурный паттерн "слоистая архитектура" (layered architecture) способствует прозрачности доступа

4. **Компромиссы в проектировании:**
   - Объясните trade-off между степенью прозрачности и производительностью системы
   - Приведите примеры, когда полная прозрачность отказов невозможна или нежелательна
   - Обоснуйте выбор архитектурного стиля для следующих сценариев:
     - Высоконагруженный e-commerce портал
     - Система распределенного хранения файлов
     - Корпоративная информационная система

**Критерии оценки:**
- Полнота описания характеристик распределенных систем (25%)
- Глубина анализа архитектурных паттернов (25%)
- Понимание взаимосвязей и компромиссов (30%)
- Качество практических примеров (20%)

---

## Вопрос 2. Парадигмы взаимодействия: синхронная и асинхронная коммуникация

**Комплексный теоретический вопрос:**

Проведите сравнительный анализ парадигм взаимодействия в распределенных системах: Remote Procedure Call (RPC), REST API и Message-Oriented Middleware (MOM). Обоснуйте выбор конкретной парадигмы для различных бизнес-сценариев.

**В ответе необходимо раскрыть:**

1. **RPC и современные реализации:**
   - Опишите принципы работы RPC (stub, skeleton, marshalling/unmarshalling)
   - Объясните преимущества gRPC над традиционными RPC (Protocol Buffers, HTTP/2, streaming)
   - Типы RPC-взаимодействий: Unary, Server Streaming, Client Streaming, Bidirectional Streaming
   - Проблемы RPC: сетевые задержки, частичные отказы, семантика "at-most-once" vs "at-least-once"

2. **REST и RESTful веб-сервисы:**
   - Ключевые принципы REST (stateless, cacheable, uniform interface, client-server)
   - HTTP методы и их идемпотентность (GET, POST, PUT, PATCH, DELETE)
   - Сравнение REST и RPC с точки зрения связанности (coupling) и гибкости
   - Роль обратного прокси (Nginx) в архитектуре RESTful систем

3. **Асинхронное взаимодействие через брокеры сообщений:**
   - Паттерны обмена сообщениями: Point-to-Point, Publish-Subscribe, Request-Reply
   - Преимущества асинхронной коммуникации: temporal decoupling, buffering, resilience
   - Принципы работы RabbitMQ (exchanges, queues, routing keys, bindings)
   - Гарантии доставки сообщений: at-most-once, at-least-once, exactly-once

4. **Сравнительный анализ и выбор парадигмы:**
   
   Заполните сравнительную таблицу:

   | Критерий | RPC/gRPC | REST API | Message Broker |
   |----------|----------|----------|----------------|
   | Связанность (coupling) | ? | ? | ? |
   | Латентность | ? | ? | ? |
   | Масштабируемость | ? | ? | ? |
   | Отказоустойчивость | ? | ? | ? |
   | Сложность реализации | ? | ? | ? |

   Обоснуйте выбор для сценариев:
   - Микросервисная архитектура интернет-банкинга
   - Система обработки потоковых данных IoT
   - Интеграция корпоративных систем (B2B)

**Критерии оценки:**
- Полнота описания каждой парадигмы (30%)
- Глубина сравнительного анализа (30%)
- Корректность заполнения таблицы (20%)
- Обоснованность выбора для сценариев (20%)

---

## Вопрос 3. CAP-теорема, модели согласованности и репликация данных

**Комплексный теоретический вопрос:**

Объясните CAP-теорему и ее практическое применение при проектировании распределенных систем управления данными. Проанализируйте модели согласованности и стратегии репликации в контексте требований бизнес-приложений.

**В ответе необходимо раскрыть:**

1. **CAP-теорема (теорема Брюера):**
   - Определите три компонента: Consistency (согласованность), Availability (доступность), Partition Tolerance (устойчивость к разделению)
   - Докажите, почему невозможно одновременно обеспечить все три свойства
   - Объясните, почему в реальных распределенных системах Partition Tolerance является обязательным свойством
   - Опишите компромиссы CP-систем vs AP-систем

2. **Модели согласованности данных:**

   **Строгие модели:**
   - Строгая согласованность (strict consistency)
   - Линеаризуемость (linearizability)
   - Последовательная согласованность (sequential consistency)

   **Слабые модели:**
   - Причинная согласованность (causal consistency)
   - Eventual consistency (финальная согласованность)
   - Модель согласованности PRAM (Pipelined RAM)

   Для каждой модели:
   - Дайте формальное определение
   - Приведите диаграмму временных меток операций чтения/записи
   - Укажите примеры систем, использующих данную модель

3. **Стратегии репликации:**
   - Первичная копия (primary-backup replication)
   - Активная репликация (active replication)
   - Квором-основанные протоколы (quorum-based protocols)
   - Gossip-протоколы для распространения обновлений
   
   Объясните алгоритм достижения консенсуса (на примере Paxos или Raft - кратко)

4. **Практическое применение:**

   Проанализируйте следующие системы с точки зрения CAP-теоремы:
   
   - **Amazon DynamoDB**: выбор между CP и AP, настройки кворума (R+W>N)
   - **Apache Cassandra**: настраиваемая консистентность, eventual consistency
   - **Google Spanner**: внешняя согласованность через TrueTime API
   - **MongoDB**: настройки Write Concern и Read Concern

   Для корпоративной системы управления запасами:
   - Обоснуйте выбор модели согласованности
   - Предложите стратегию репликации
   - Опишите механизмы разрешения конфликтов

**Критерии оценки:**
- Понимание CAP-теоремы и ее следствий (25%)
- Полнота описания моделей согласованности (25%)
- Глубина анализа стратегий репликации (25%)
- Качество практического применения (25%)

---

## Вопрос 4. Надежность, отказоустойчивость и безопасность распределенных систем

**Комплексный теоретический вопрос:**

Проанализируйте методы обеспечения надежности и безопасности в распределенных системах. Объясните механизмы обнаружения отказов, восстановления и защиты от угроз в контексте современных платформ (контейнеры, облачные вычисления).

**В ответе необходимо раскрыть:**

1. **Типы отказов в распределенных системах:**
   - Сбой процесса (crash failure)
   - Сбой канала связи (omission failure)
   - Временной сбой (timing failure)
   - Византийский сбой (Byzantine failure)
   
   Для каждого типа:
   - Опишите характеристики
   - Приведите примеры из практики
   - Укажите методы обнаружения

2. **Протоколы обнаружения отказов:**

   **Heartbeat-based подход:**
   - Централизованный мониторинг
   - Peer-to-peer проверки
   - Проблема ложных срабатываний
   
   **Gossip-протоколы (на примере Serf):**
   - Принципы работы gossip-протокола
   - Параметры: gossip interval, gossip fanout
   - Время конвергенции (convergence time)
   - Влияние потери пакетов (packet loss) и отказов узлов
   - Сравнение с централизованными подходами по метрикам:
     - Скорость обнаружения отказа
     - Использование полосы пропускания
     - Масштабируемость

3. **Механизмы обеспечения отказоустойчивости:**

   **На уровне приложения:**
   - Retry patterns (exponential backoff)
   - Circuit breaker pattern
   - Bulkhead isolation
   - Timeout management

   **На уровне инфраструктуры:**
   - Health checks в Kubernetes
   - Liveness и Readiness probes
   - Автоматическое масштабирование (horizontal pod autoscaling)
   - Service mesh (Istio, Linkerd) для управления трафиком

4. **Безопасность распределенных систем:**

   **Аутентификация и авторизация:**
   - Распределенная аутентификация (OAuth 2.0, OpenID Connect)
   - JWT токены: структура, валидация, риски
   - Mutual TLS (mTLS) для service-to-service коммуникации
   - Role-Based Access Control (RBAC) в микросервисах

   **Защита каналов связи:**
   - TLS/SSL для шифрования в транзите
   - Шифрование данных в покое (encryption at rest)
   - Управление секретами (HashiCorp Vault, Kubernetes Secrets)

   **Защита от атак:**
   - DDoS защита на уровне прокси (Nginx rate limiting)
   - API Gateway паттерн для централизованной безопасности
   - Zero Trust Architecture принципы

5. **Платформы и инструменты:**

   Сравните подходы к обеспечению надежности:

   | Платформа | Механизм изоляции | Обнаружение отказов | Восстановление | Безопасность |
   |-----------|-------------------|---------------------|----------------|--------------|
   | Виртуальные машины | ? | ? | ? | ? |
   | Docker контейнеры | ? | ? | ? | ? |
   | Kubernetes | ? | ? | ? | ? |
   | Serverless (AWS Lambda) | ? | ? | ? | ? |

   Обоснуйте выбор платформы для критически важной финансовой системы.

**Критерии оценки:**
- Полнота классификации отказов (20%)
- Глубина анализа протоколов обнаружения (25%)
- Понимание механизмов отказоустойчивости (25%)
- Знание аспектов безопасности (20%)
- Корректность сравнения платформ (10%)

---

## Список рекомендуемой литературы

### Основная литература:

1. **M. van Steen and A.S. Tanenbaum.** *Distributed Systems*, 4th ed., distributed-systems.net, 2023.  
   URL: https://www.distributed-systems.net/index.php/books/ds4/  

2. **Стин ван М., Таненбаум Э. С.** *Распределенные системы* / пер. с англ. В. А. Яроцкого. – М.: ДМК Пресс, 2021. – 584 с.  

3. **Бабичев С. Л., Коньков К. А.** *Распределенные системы*: учеб. пособие для вузов. – М.: Юрайт, 2020.  
   URL: https://urait.ru/bcode/457005  

4. **Kuzmiakova A.** *Concurrent, Parallel and Distributed Computing*. e-book Edition, 2023.  

### Спецификации и документация:

5. **gRPC Documentation**: https://grpc.io/docs/  
   *Официальная документация gRPC framework*

6. **RabbitMQ Documentation**: https://www.rabbitmq.com/documentation.html  
    *Руководство по брокеру сообщений RabbitMQ*

7. **Serf - A decentralized solution for cluster membership**: https://www.serf.io/docs/  
    *Документация по инструменту обнаружения отказов Serf*

